process {
    withLabel : 'intenso' {
        conda = "$baseDir/envs/bio_environment.yml"
    }
    withLabel : 'expresso' {
        conda = "$baseDir/envs/bio_environment.yml"
    }
    withLabel : 'ristretto' {
        conda = "$baseDir/envs/py_environment.yml"
    }
}



profiles {
    standard {
        executor {
            name = 'local'
        }
         process{
            withLabel : 'intenso' {
                cpus = 8
                memory = '9G'
            }
            withLabel : 'expresso' {
                cpus = 6
                memory = '2G'
            }
            withLabel : 'ristretto' {
                cpus = 1
                memory = '2G'
            }
        }
    }
    test {
        executor {
            name = 'local'
        }
         process{
            cpus = 1
            memory = '4G'
        }
        params {
            reads = "$baseDir/test/reads/*.{1,2}.fastq.gz"
            phred = 64
        }
    }
    shh {
        executor {
            name = 'slurm'
            queueSize = 10
        }
        process{
            withLabel : 'intenso' {
                queue = 'short'
                cpus = 8
                memory = '12G'
                time = '2h'
            }
            withLabel : 'expresso' {
                queue = 'short'
                cpus = 6
                memory = '2G'
                time = '1h'
            }
            withLabel : 'ristretto' {
                queue = 'short'
                cpus = 1
                memory = '2G'
                time = '30m'
            }
        }
    }
}